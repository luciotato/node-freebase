{"ts":1368002881769,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var fs=require('fs');\nvar path=require('path');\n\nvar fullsource;\n\n// CONCAT --> fullsource\n\nvar sources=path.resolve(__dirname,'src');\nvar files=['header','http','data','helpers','freebase'];\n\nconsole.log('Reading Files...');\nvar fname;\nfor (var inx=0;inx<files.length;inx++) {\n\n    fname=files[inx]+'.js';\n    console.log('  + ',fname);\n\n    fname=path.resolve(sources,fname);\n    if ( fs.existsSync(fname) ) {\n        fullsource += fs.readFileSync(fname);\n    } else {\n        console.log('ERR: Source file \"' + fname + '\" not found.');\n        //throw new Error('Source file \"' + filepath + '\" not found.');\n    }\n}\n\n//UGLIFY\n// npm install -g uglify-js@1\nconsole.log('Load uglify-js...');\nvar jsp = require(\"uglify-js\").parser;\nvar pro = require(\"uglify-js\").uglify;\n\nconsole.log('Parse...');\nvar ast = jsp.parse(fullsource); // parse code and get the initial AST\nconsole.log('Mangle...');\nast = pro.ast_mangle(ast); // get a new AST with mangled names\nconsole.log('Squeeze...');\nast = pro.ast_squeeze(ast); // get an AST with compression optimizations\n\n//SAVE\nvar dest_fname = 'client_side/freebase.min.js';\nconsole.log('Generating and saving...');\nfs.writeFile(path.resolve(__dirname,dest_fname), pro.gen_code(ast)\n    , function(err) {\n        if (err) throw err;\n        console.log('OK!, ', dest_fname,' created.');\n        });\n\n\n"]],"start1":0,"start2":0,"length1":0,"length2":1339}]],"length":1339}
{"contributors":[],"silentsave":false,"ts":1368002867277,"patch":[[{"diffs":[[0,"nt_side/"],[1,"node-"],[0,"freebase"]],"start1":1087,"start2":1087,"length1":16,"length2":21}]],"length":1344,"saved":false}
{"contributors":[],"silentsave":false,"ts":1368004278182,"patch":[[{"diffs":[[0,"'path');"],[1,"\n// npm install -g uglify-js@1\nvar jsp = require(\"uglify-js\").parser;\nvar pro = require(\"uglify-js\").uglify;"],[0,"\n\nvar fu"]],"start1":39,"start2":39,"length1":16,"length2":124},{"diffs":[[0,"IFY\n"],[-1,"// npm install -g uglify-js@1\n"],[0,"cons"]],"start1":733,"start2":733,"length1":38,"length2":8},{"diffs":[[0,"og('"],[-1,"Load "],[0,"ugli"]],"start1":746,"start2":746,"length1":13,"length2":8},{"diffs":[[0,".');"],[-1,"\nvar jsp = require(\"uglify-js\").parser;\nvar pro = require(\"uglify-js\").uglify;"],[0,"\n\nco"]],"start1":761,"start2":761,"length1":86,"length2":8},{"diffs":[[0,"nt_side/"],[1,"node-"],[0,"freebase"]],"start1":1082,"start2":1082,"length1":16,"length2":21}]],"length":1339,"saved":false}
{"contributors":[],"silentsave":false,"ts":1368016744298,"patch":[[{"diffs":[[0,"');\n"],[-1,"var ast = jsp.parse(fullsource); "],[0,"// p"]],"start1":788,"start2":788,"length1":41,"length2":8},{"diffs":[[0,"tial AST"],[1," // callb: JS_Parse_Error(message, line, col, pos);\nvar ast = jsp.parse(fullsource, function(message, line, col, pos){console.log(arguments)}); "],[0,"\nconsole"]],"start1":821,"start2":821,"length1":16,"length2":160}]],"length":1450,"saved":false}
{"ts":1368016836215,"patch":[[{"diffs":[[0,"');\n"],[-1,"// parse code and get the initial AST // callb: JS_Parse_Error(message, line, col, pos);\nvar ast = jsp.parse(fullsource, function(message, line, col, pos){console.log(arguments)}); \n"],[1,"try {\n    var ast = jsp.parse(fullsource); // parse code and get the initial AST\n    "],[0,"cons"]],"start1":788,"start2":788,"length1":190,"length2":93},{"diffs":[[0,"g('Mangle...');\n"],[1,"    "],[0,"ast = pro.ast_ma"]],"start1":887,"start2":887,"length1":32,"length2":36},{"diffs":[[0,"d names\n"],[1,"    "],[0,"console."]],"start1":962,"start2":962,"length1":16,"length2":20},{"diffs":[[0,"e...');\n"],[1,"    "],[0,"ast = pr"]],"start1":993,"start2":993,"length1":16,"length2":20},{"diffs":[[0,"izations"],[1,"\n} catch (e) { \n    console.log(e)\n};"],[0,"\n\n//SAVE"]],"start1":1069,"start2":1069,"length1":16,"length2":53}]],"length":1402,"saved":false}
{"ts":1368017091597,"patch":[[{"diffs":[[0,"y;\n\nvar "],[-1,"fullsourc"],[1,"try_parse=fals"],[0,"e;\n\n// C"]],"start1":153,"start2":153,"length1":25,"length2":30},{"diffs":[[0,"es...');"],[1,"\n\nRETRY:"],[0,"\nvar fna"]],"start1":330,"start2":330,"length1":16,"length2":24},{"diffs":[[0,"ar fname"],[1,"=\"\";\nvar fullsource=\"\""],[0,";\nfor (v"]],"start1":348,"start2":348,"length1":16,"length2":38},{"diffs":[[0,"fname);\n"],[1,"    if (try_parse) {\n        try {\n            var ast = jsp.parse(fullsource); // parse code and get the initial AST\n        } catch (e) { \n            console.log(e);\n        }\n    };\n    "],[0,"\n    fna"]],"start1":473,"start2":473,"length1":16,"length2":206},{"diffs":[[0," { \n    "],[-1,"console.log(e)"],[1,"if (try_parse) console.log(e), return;\n    try_parse=true, goto retry;"],[0,"\n};\n\n//S"]],"start1":1314,"start2":1314,"length1":30,"length2":86}]],"length":1683,"saved":false}
{"ts":1368017129034,"patch":[[{"diffs":[[0,"ole.log(e);\n"],[1,"            return;\n"],[0,"        }\n  "]],"start1":638,"start2":638,"length1":24,"length2":44},{"diffs":[[0,"oto "],[-1,"retry"],[1,"RETRY"],[0,";\n};"]],"start1":1402,"start2":1402,"length1":13,"length2":13}]],"length":1703,"saved":false}
{"ts":1368018622385,"patch":[[{"diffs":[[0,"s@1\nvar "],[-1,"jsp"],[1,"uParser"],[0," = requi"]],"start1":74,"start2":74,"length1":19,"length2":23},{"diffs":[[0,"er;\nvar "],[-1,"p"],[1,"uP"],[0,"ro"],[1,"c"],[0," = requi"]],"start1":117,"start2":117,"length1":19,"length2":21},{"diffs":[[0,"y;\n\n"],[-1,"var try_parse=false;\n\n"],[0,"// C"]],"start1":159,"start2":159,"length1":30,"length2":8},{"diffs":[[0,"r source"],[-1,"s"],[1,"Path"],[0,"=path.re"]],"start1":191,"start2":191,"length1":17,"length2":20},{"diffs":[[0,"ase'];\n\n"],[1,"// ------ CONCAT ------ \nfunction concat(try_parse)\n{\n    "],[0,"console."]],"start1":285,"start2":285,"length1":16,"length2":74},{"diffs":[[0,"');\n"],[-1,"\nRETRY:\n"],[1,"    "],[0,"var "]],"start1":380,"start2":380,"length1":16,"length2":12},{"diffs":[[0,"ar fname"],[-1,"=\"\";\n"],[1,";\n    "],[0,"var full"]],"start1":389,"start2":389,"length1":21,"length2":22},{"diffs":[[0,"urce"],[-1,"=\"\";\n"],[1,";\n\n    "],[0,"for "]],"start1":413,"start2":413,"length1":13,"length2":15},{"diffs":[[0,"nx++) {\n"],[-1,"\n"],[1,"    \n    "],[0,"    fnam"]],"start1":457,"start2":457,"length1":17,"length2":25},{"diffs":[[0,"+'.js';\n    "],[1,"    "],[0,"console.log("]],"start1":494,"start2":494,"length1":24,"length2":28},{"diffs":[[0,"('  + ',fname);\n"],[1,"\n        var source;\n        fname=path.resolve(sourcePath,fname);\n        if ( ! fs.existsSync(fname) ) {\n            console.log('ERR: Source file \"' + fname + '\" not found.');\n            return;\n        }\n\n        source = fs.readFileSync(fname);\n    "],[0,"    if (try_pars"]],"start1":521,"start2":521,"length1":32,"length2":287},{"diffs":[[0,"ry_parse) {\n"],[1,"    "],[0,"        try "]],"start1":801,"start2":801,"length1":24,"length2":28},{"diffs":[[0,"    "],[-1,"var ast = jsp"],[1,"     uParser"],[0,".parse("],[-1,"full"],[0,"sour"]],"start1":839,"start2":839,"length1":32,"length2":27},{"diffs":[[0,"arse(source); //"],[1," try"],[0," parse code and "]],"start1":857,"start2":857,"length1":32,"length2":36},{"diffs":[[0,"        "],[1,"    "],[0,"} catch "]],"start1":913,"start2":913,"length1":16,"length2":20},{"diffs":[[0,"atch (e) { \n"],[1,"    "],[0,"            "]],"start1":928,"start2":928,"length1":24,"length2":28},{"diffs":[[0,"e);\n            "],[1,"    "],[0,"return;\n        "]],"start1":968,"start2":968,"length1":32,"length2":36},{"diffs":[[0,"    "],[-1,"}\n"],[0,"    }"],[-1,";"],[1," "],[0,"\n    "],[-1,"\n    fname=path.resolve(sources,fname);\n    if ( fs.existsSync(fname) ) {\n        fullsource += fs.readFileSync(fname);\n    } else {\n        console.log('ERR: Source file \"' + fname + '\" not found.');"],[1,"    } else {\n            fullsource += '\\n';\n            fullsource += source;\n        }"],[0,"\n    "],[1,"}\n"],[0,"    "],[-1,"//throw new Error('Source file \"' + filepath + '\" not found.');\n    }\n}\n\n//UGLIFY\n"],[1,"return fullsource;\n}\n\n// ------ UGLIFY ------ \nfunction uglify(fullsource)\n{\n    "],[0,"cons"]],"start1":1000,"start2":1000,"length1":312,"length2":199},{"diffs":[[0,"s...');\n"],[-1,"\n"],[1,"    "],[0,"console."]],"start1":1216,"start2":1216,"length1":17,"length2":20},{"diffs":[[0,"e...');\n"],[1,"    "],[0,"try {\n"],[1,"    "],[0,"    var "]],"start1":1245,"start2":1245,"length1":22,"length2":30},{"diffs":[[0,"t = "],[-1,"jsp"],[1,"uParser"],[0,".par"]],"start1":1277,"start2":1277,"length1":11,"length2":15},{"diffs":[[0,"initial AST\n"],[1,"    "],[0,"    console."]],"start1":1334,"start2":1334,"length1":24,"length2":28},{"diffs":[[0,"g('Mangle...');\n"],[1,"    "],[0,"    ast = pro.as"]],"start1":1364,"start2":1364,"length1":32,"length2":36},{"diffs":[[0,"      ast = "],[-1,"p"],[1,"uP"],[0,"ro"],[1,"c"],[0,".ast_mangle("]],"start1":1382,"start2":1382,"length1":27,"length2":29},{"diffs":[[0,"d names\n    "],[1,"    "],[0,"console.log("]],"start1":1445,"start2":1445,"length1":24,"length2":28},{"diffs":[[0,"ueeze...');\n"],[1,"    "],[0,"    ast = pr"]],"start1":1476,"start2":1476,"length1":24,"length2":28},{"diffs":[[0,"  ast = "],[-1,"p"],[1,"uP"],[0,"ro"],[1,"c"],[0,".ast_squ"]],"start1":1494,"start2":1494,"length1":19,"length2":21},{"diffs":[[0,"zations\n"],[1,"    "],[0,"} catch "]],"start1":1563,"start2":1563,"length1":16,"length2":20},{"diffs":[[0,"    "],[-1,"if (try_parse) console.log(e), return;\n    try_parse=true, goto RETRY"],[1,"    concat(true); //try parse each file\n        return;\n    }\n    return ast"],[0,";\n}"],[-1,";"],[0,"\n\n//"],[-1,"SAVE\n"],[1," ------ SAVE ------ \nfunction save(ast)\n{\n    "],[0,"var "]],"start1":1590,"start2":1590,"length1":90,"length2":137},{"diffs":[[0,"in.js';\n"],[1,"    "],[0,"console."]],"start1":1768,"start2":1768,"length1":16,"length2":20},{"diffs":[[0,"g...');\n"],[1,"    "],[0,"fs.write"]],"start1":1813,"start2":1813,"length1":16,"length2":20},{"diffs":[[0,"e), "],[-1,"p"],[1,"uP"],[0,"ro"],[1,"c"],[0,".gen"]],"start1":1870,"start2":1870,"length1":11,"length2":13},{"diffs":[[0,"de(ast)\n"],[1,"    "],[0,"    , fu"]],"start1":1886,"start2":1886,"length1":16,"length2":20},{"diffs":[[0,"tion(err) {\n"],[1,"    "],[0,"        if ("]],"start1":1908,"start2":1908,"length1":24,"length2":28},{"diffs":[[0,"ow err;\n        "],[1,"    "],[0,"console.log('OK!"]],"start1":1944,"start2":1944,"length1":32,"length2":36},{"diffs":[[0,"    "],[-1,"});\n\n"],[1,"    });\n};\n\n\n// -------------\n// --- MAIN ----\n// -------------\nvar fullsource = concat();\nif (fullsource) {\n    var ast=uglify(fullsource);\n    if (ast) save(ast);\n}"],[0,"\n"]],"start1":2014,"start2":2014,"length1":10,"length2":171}]],"length":2185,"saved":false}
{"ts":1368019289060,"patch":[[{"diffs":[[0,"ase'];\n\n"],[1,"var bigAST = null;\n\n"],[0,"// -----"]],"start1":285,"start2":285,"length1":16,"length2":36},{"diffs":[[0,"/ ------"],[1,"PARSE"],[0," CONCAT "]],"start1":314,"start2":314,"length1":16,"length2":21},{"diffs":[[0," concat("],[-1,"try_parse"],[0,")\n{\n    "]],"start1":351,"start2":351,"length1":25,"length2":16},{"diffs":[[0,"ame;"],[-1,"\n    var fullsource;"],[0,"\n\n  "]],"start1":410,"start2":410,"length1":28,"length2":8},{"diffs":[[0,"    "],[-1,"source = fs.readFileSync(fname);\n        if (try_parse)"],[1,"try"],[0," {\n "]],"start1":747,"start2":747,"length1":63,"length2":11},{"diffs":[[0,"y {\n            "],[-1,"try {"],[1,"// Parse Add"],[0,"\n               "]],"start1":753,"start2":753,"length1":37,"length2":44},{"diffs":[[0,"        "],[-1,"    "],[1,"bigAST ="],[0," uParser"]],"start1":786,"start2":786,"length1":20,"length2":24},{"diffs":[[0,"rse("],[-1,"source); // try parse code and get the initial AST\n            } catch (e) { \n                console.log(e);\n                return;\n            } \n        } else"],[1,"\n                fs.readFileSync(fname)\n                , {file=fname, toplevel:bigAST});\n        } catch (e)"],[0," {"],[1," "],[0,"\n   "]],"start1":813,"start2":813,"length1":173,"length2":120},{"diffs":[[0,"    "],[-1,"fullsource += '\\n';\n            fullsource += source"],[1,"console.log(e); //parse error\n            return"],[0,";\n  "]],"start1":938,"start2":938,"length1":60,"length2":56},{"diffs":[[0,"n;\n        }"],[1," "],[0,"\n    }\n    r"]],"start1":989,"start2":989,"length1":24,"length2":25},{"diffs":[[0," return "],[-1,"fullsource"],[1,"bigAST"],[0,";\n}\n\n// "]],"start1":1012,"start2":1012,"length1":26,"length2":22},{"diffs":[[0,"--- "],[-1,"UGLIFY"],[1,"MANGLE and SQUEEZE"],[0," ---"]],"start1":1037,"start2":1037,"length1":14,"length2":26},{"diffs":[[0," uglify("],[-1,"fullsource"],[0,")\n{\n    "]],"start1":1076,"start2":1076,"length1":26,"length2":16},{"diffs":[[0,"le.log('"],[-1,"u"],[1,"U"],[0,"glify"],[-1,"-js"],[0,"...');\n "]],"start1":1097,"start2":1097,"length1":25,"length2":22},{"diffs":[[0,"y {\n"],[-1,"        var ast = uParser.parse(fullsource); // parse code and get the initial AST\n"],[0,"    "]],"start1":1153,"start2":1153,"length1":91,"length2":8},{"diffs":[[0,"e...');\n        "],[-1,"ast"],[1,"bigAST"],[0," = uProc.ast_man"]],"start1":1183,"start2":1183,"length1":35,"length2":38},{"diffs":[[0,"_mangle("],[-1,"ast"],[1,"bigAST"],[0,"); // ge"]],"start1":1217,"start2":1217,"length1":19,"length2":22},{"diffs":[[0,"        "],[-1,"ast"],[1,"bigAST"],[0," = uProc"]],"start1":1305,"start2":1305,"length1":19,"length2":22},{"diffs":[[0,"squeeze("],[-1,"ast"],[1,"bigAST"],[0,"); // ge"]],"start1":1332,"start2":1332,"length1":19,"length2":22},{"diffs":[[0," con"],[-1,"cat(true); //try parse each file"],[1,"sole.log(e); "],[0,"\n   "]],"start1":1420,"start2":1420,"length1":40,"length2":21},{"diffs":[[0," return "],[-1,"ast"],[1,"bigAST"],[0,";\n}\n\n// "]],"start1":1463,"start2":1463,"length1":19,"length2":22},{"diffs":[[0,"on save("],[-1,"ast"],[0,""],[1,""],[0,")\n{\n    "]],"start1":1511,"start2":1511,"length1":19,"length2":16},{"diffs":[[0,"en_code("],[-1,"ast"],[1,"bigAST"],[0,")\n      "]],"start1":1685,"start2":1685,"length1":19,"length2":22},{"diffs":[[0,"---\n"],[-1,"var fullsource = concat();\nif (fullsource) {\n    var ast=uglify(fullsource);\n    if (ast) "],[1,"concat();\nuglify();\n"],[0,"save("],[-1,"ast"],[0,");\n"],[-1,"}"],[0,"\n"]],"start1":1885,"start2":1885,"length1":107,"length2":33}]],"length":1918,"saved":false}
{"ts":1368019306928,"patch":[[{"diffs":[[0," , {file"],[-1,"="],[1,":"],[0,"fname, t"]],"start1":872,"start2":872,"length1":17,"length2":17}]],"length":1918,"saved":false}
{"ts":1368019658938,"patch":[[{"diffs":[[0,");\n\n"],[-1,"        var source;\n"],[0,"    "]],"start1":530,"start2":530,"length1":28,"length2":8},{"diffs":[[0," // "],[-1,"Parse Ad"],[1,"Rea"],[0,"d\n  "]],"start1":748,"start2":748,"length1":16,"length2":11},{"diffs":[[0,"    "],[-1,"bigAST = uParser.parse(\n                "],[1,"var source="],[0,"fs.r"]],"start1":765,"start2":765,"length1":48,"length2":19},{"diffs":[[0,"c(fname)"],[1,";"],[0,"\n       "]],"start1":794,"start2":794,"length1":16,"length2":17},{"diffs":[[0,"        "],[-1,"    "],[1,"// Parse Add\n            bigAST = uParser.parse( source"],[0,", {file:"]],"start1":808,"start2":808,"length1":20,"length2":71}]],"length":1916,"saved":false}
{"ts":1368019728839,"patch":[[{"diffs":[[0,"e error\n"],[1,"            bigAST=null;\n"],[0,"        "]],"start1":962,"start2":962,"length1":16,"length2":41},{"diffs":[[0," \n    }\n"],[-1,"    return bigAST;\n"],[0,"}\n\n// --"]],"start1":1024,"start2":1024,"length1":35,"length2":16},{"diffs":[[0,"    "],[-1,"return"],[1,"bigAST=null"],[0,";\n    "],[-1,"}\n"],[0,"    "]],"start1":1446,"start2":1446,"length1":22,"length2":25},{"diffs":[[0,"turn"],[-1," bigAST;"],[1,";\n    }"],[0,"\n}\n\n"]],"start1":1473,"start2":1473,"length1":16,"length2":15}]],"length":1924,"saved":false}
{"ts":1368019883022,"patch":[[{"diffs":[[0,"ame,'src');\n"],[1,"\n"],[0,"var files=['"]],"start1":223,"start2":223,"length1":24,"length2":25},{"diffs":[[0,"rse Add\n"],[1,"            console.log('Parse...');\n"],[0,"        "]],"start1":822,"start2":822,"length1":16,"length2":53},{"diffs":[[0,")\n{\n"],[-1,"    console.log('Uglify...');\n    console.log('Parse...');\n"],[0,"    "]],"start1":1126,"start2":1126,"length1":67,"length2":8}]],"length":1903,"saved":false}
{"ts":1368020196387,"patch":[[{"diffs":[[0,"ileSync(fname);\n"],[1,"        } catch (e) { \n            console.log(e); \n            return;\n        }\n        try {\n"],[0,"            // P"]],"start1":789,"start2":789,"length1":32,"length2":128}]],"length":1999,"saved":false}
{"ts":1368020392235,"patch":[[{"diffs":[[0,"src');\n\n"],[1,"//"],[0,"var file"]],"start1":228,"start2":228,"length1":16,"length2":18},{"diffs":[[0,"ebase'];"],[1,"\nvar files=['http','data','helpers','freebase'];"],[0,"\n\nvar bi"]],"start1":286,"start2":286,"length1":16,"length2":64}]],"length":2049,"saved":false}
{"ts":1368020766971,"patch":[[{"diffs":[[0,"var "],[-1,"uParser = require(\"uglify-js\").parser;\nvar uProc"],[1,"UglifyJS"],[0," = r"]],"start1":78,"start2":78,"length1":56,"length2":16},{"diffs":[[0,"js\")"],[-1,".uglify"],[0,";\n\n/"]],"start1":109,"start2":109,"length1":15,"length2":8},{"diffs":[[0,"e);\n"],[-1,"        } catch (e) { \n            console.log(e); \n            return;\n        }\n        try {\n"],[0,"    "]],"start1":804,"start2":804,"length1":104,"length2":8},{"diffs":[[0,"T = "],[-1,"uParser"],[1,"UglifyJS"],[0,".par"]],"start1":887,"start2":887,"length1":15,"length2":16},{"diffs":[[0,"n uglify()\n{"],[1," if (bigAST)"],[0,"\n    try {\n "]],"start1":1121,"start2":1121,"length1":24,"length2":36},{"diffs":[[0,"gAST)\n    try {\n"],[1,"        bigAST.figure_out_scope();\n"],[0,"        console."]],"start1":1140,"start2":1140,"length1":32,"length2":67},{"diffs":[[0,"og('"],[-1,"Mangle"],[1,"Compress"],[0,"...'"]],"start1":1208,"start2":1208,"length1":14,"length2":16},{"diffs":[[0,"    "],[-1,"bigAST = uProc.ast_mangle(bigAST); // get a new AST with mangled names"],[1,"var compressor = UglifyJS.Compressor(options);\n        var compressed_ast = bigAST.transform(compressor);"],[0,"\n   "]],"start1":1231,"start2":1231,"length1":78,"length2":113},{"diffs":[[0,"og('"],[-1,"Squeez"],[1,"Mangl"],[0,"e..."]],"start1":1358,"start2":1358,"length1":14,"length2":13},{"diffs":[[0,"gAST"],[-1," = uProc.ast_squeeze(bigAST"],[1,".figure_out_scope();\n        bigAST.compute_char_frequency();\n        bigAST.mangle_names("],[0,");"],[-1," "],[0,"// get a"],[-1,"n"],[1," new"],[0," AST"]],"start1":1385,"start2":1385,"length1":47,"length2":112},{"diffs":[[0,"ith "],[-1,"compression optimization"],[1,"mangled name"],[0,"s\n  "]],"start1":1499,"start2":1499,"length1":32,"length2":20},{"diffs":[[0,"ion save()\n{"],[-1,""],[0,""],[1," if (bigAST)\n    {"],[0,"\n    var des"]],"start1":1635,"start2":1635,"length1":24,"length2":42},{"diffs":[[0,"});\n"],[1,"    }\n"],[0,"}"],[-1,";"],[0,"\n\n\n/"]],"start1":1972,"start2":1972,"length1":10,"length2":15}]],"length":2066,"saved":false}
{"ts":1368021088295,"patch":[[{"diffs":[[0,"glifyJS."],[-1,""],[0,""],[1,"jsp."],[0,"parse( s"]],"start1":892,"start2":892,"length1":16,"length2":20},{"diffs":[[0,"    "],[-1,"bigAST.figure_out_scope();\n        console.log('Compress...');\n        var compressor = UglifyJS.Compressor(options);\n        var compressed_ast = bigAST.transform(compressor"],[1,"console.log('Squeeze...');\n        bigAST.figure_out_scope();\n        bigAST = UglifyJS.pro.ast_squeeze(bigAST"],[0,");\n "]],"start1":1164,"start2":1164,"length1":182,"length2":118},{"diffs":[[0,"  bigAST"],[-1,""],[0,""],[1," = UglifyJS.pro"],[0,".mangle_"]],"start1":1397,"start2":1397,"length1":16,"length2":31}]],"length":2021,"saved":false}
{"ts":1368021150092,"patch":[[{"diffs":[[0,"yJS."],[-1,"jsp"],[1,"parser"],[0,".par"]],"start1":896,"start2":896,"length1":11,"length2":14}]],"length":2024,"saved":false}
{"ts":1368021252908,"patch":[[{"diffs":[[0,"s@1\nvar "],[-1,"UglifyJS"],[1,"parser = require(\"uglify-js\").parser;\nvar pro"],[0," = requi"]],"start1":74,"start2":74,"length1":24,"length2":61},{"diffs":[[0,"ify-js\")"],[1,".processor"],[0,";\n\n// CO"]],"start1":142,"start2":142,"length1":16,"length2":26},{"diffs":[[0,"igAST = "],[-1,"UglifyJS."],[0,"parser.p"]],"start1":930,"start2":930,"length1":25,"length2":16},{"diffs":[[0,"   bigAST = "],[-1,"UglifyJS."],[0,"pro.ast_sque"]],"start1":1276,"start2":1276,"length1":33,"length2":24},{"diffs":[[0,"T = "],[-1,"UglifyJS."],[0,"pro."]],"start1":1436,"start2":1436,"length1":17,"length2":8},{"diffs":[[0,");\nsave();\n\n"],[1,"\nvar parser = require(\"uglify-js\").parser;"]],"start1":2032,"start2":2032,"length1":12,"length2":54}]],"length":2086,"saved":false}
{"ts":1368021271180,"patch":[[{"diffs":[[0,"s\")."],[-1,"processor"],[1,"uglify"],[0,";\n\n/"]],"start1":147,"start2":147,"length1":17,"length2":14}]],"length":2083,"saved":false}
{"ts":1368021905800,"patch":[[{"diffs":[[0,"path');\n"],[1,"\n"],[0,"// npm i"]],"start1":40,"start2":40,"length1":16,"length2":17},{"diffs":[[0,"fy-js@1\n"],[-1,"var parser"],[1,"console.log('uglify-js VERSION 1 REQUIREd...');\nconsole.log('npm install -g uglify-js@1');\nvar jsp"],[0," = requi"]],"start1":71,"start2":71,"length1":26,"length2":114},{"diffs":[[0,"gAST"],[-1," = null"],[0,""],[1,""],[0,";\n\n/"]],"start1":436,"start2":436,"length1":15,"length2":8},{"diffs":[[0,"ion "],[1,"parse_"],[0,"concat("],[-1,")\n{"],[1,"try_parse)\n{\n    var fullsource;\n    var fname;\n"],[0,"\n   "]],"start1":478,"start2":478,"length1":18,"length2":69},{"diffs":[[0,"es...');"],[-1,"\n    var fname;"],[0,"\n\n    fo"]],"start1":572,"start2":572,"length1":31,"length2":16},{"diffs":[[0," }\n\n"],[-1,"        try {\n            // Read\n    "],[0,"    "]],"start1":885,"start2":885,"length1":46,"length2":8},{"diffs":[[0,"ileSync(fname);\n"],[1,"        if (try_parse) {\n            try {\n    "],[0,"            // P"]],"start1":916,"start2":916,"length1":32,"length2":79},{"diffs":[[0,"rse "],[-1,"Add\n"],[1,"\n    "],[0,"    "]],"start1":996,"start2":996,"length1":12,"length2":13},{"diffs":[[0,"le.log('"],[-1,"P"],[1,"try p"],[0,"arse...'"]],"start1":1022,"start2":1022,"length1":17,"length2":21},{"diffs":[[0,"    "],[-1,"bigAST = parser"],[1,"    jsp"],[0,".parse("],[-1," "],[0,"source"],[-1,", {file:fname, toplevel:bigAST});\n"],[1,");\n    "],[0,"    "]],"start1":1054,"start2":1054,"length1":71,"length2":35},{"diffs":[[0," } catch (e) { \n"],[1,"    "],[0,"            cons"]],"start1":1092,"start2":1092,"length1":32,"length2":36},{"diffs":[[0,"    "],[-1,"bigAST=null;\n            return"],[1,"    return;\n            } \n        }\n        else {\n            fullsource+='\\n';\n            fullsource+=source"],[0,";\n  "]],"start1":1162,"start2":1162,"length1":39,"length2":120},{"diffs":[[0,"   }"],[-1," "],[0,"\n    }\n"],[1,"    \n    // parse all\n    bigAST=jsp.parse(source);\n"],[0,"}\n\n/"]],"start1":1285,"start2":1285,"length1":16,"length2":67},{"diffs":[[0,"unction "],[-1,"uglify"],[1,"mangle_squeeze"],[0,"()\n{ if "]],"start1":1389,"start2":1389,"length1":22,"length2":30},{"diffs":[[0,"og('"],[-1,"Squeez"],[1,"Mangl"],[0,"e..."]],"start1":1455,"start2":1455,"length1":14,"length2":13},{"diffs":[[0,"gAST"],[-1,".figure_out_scope();\n        bigAST = pro.ast_squeeze(bigAST);"],[1," = pro.mangle_names();// get a new AST with mangled names"],[0,"\n   "]],"start1":1482,"start2":1482,"length1":70,"length2":65},{"diffs":[[0,"   console.log('"],[-1,"Mangl"],[1,"Squeez"],[0,"e...');\n        "]],"start1":1549,"start2":1549,"length1":37,"length2":38},{"diffs":[[0,"gAST"],[-1,".figure_out_scope();\n        bigAST.compute_char_frequency();\n        bigAST = pro.mangle_names("],[1," = pro.ast_squeeze(bigAST"],[0,");"],[1," "],[0,"// get a"],[-1," new"],[1,"n"],[0," AST"]],"start1":1589,"start2":1589,"length1":118,"length2":45},{"diffs":[[0,"an AST with "],[-1,"mangled name"],[1,"compression optimization"],[0,"s\n    } catc"]],"start1":1628,"start2":1628,"length1":36,"length2":48},{"diffs":[[0,"/ ------"],[1," GENERATE and"],[0," SAVE --"]],"start1":1757,"start2":1757,"length1":16,"length2":29},{"diffs":[[0,"unction "],[1,"generate_"],[0,"save()\n{"]],"start1":1793,"start2":1793,"length1":16,"length2":25},{"diffs":[[0,"e), "],[-1,"uP"],[1,"p"],[0,"ro"],[-1,"c"],[0,".gen"]],"start1":1988,"start2":1988,"length1":13,"length2":11},{"diffs":[[0,"-------\n"],[1,"parse_"],[0,"concat()"]],"start1":2198,"start2":2198,"length1":16,"length2":22},{"diffs":[[0,"();\n"],[-1,"uglify();\nsave();\n\n\nvar parser = require(\"uglify-js\").parser;"],[1,"mangle_squeeze();\ngenerate_save();\n\n\n"]],"start1":2218,"start2":2218,"length1":65,"length2":41}]],"length":2259,"saved":false}
{"ts":1368021949024,"patch":[[{"diffs":[[0,"igAST=jsp.parse("],[1,"full"],[0,"source);\n}\n\n// -"]],"start1":1323,"start2":1323,"length1":32,"length2":36}]],"length":2263,"saved":false}
{"ts":1368022077918,"patch":[[{"diffs":[[0,"ry_parse"],[1,"_each"],[0,")\n"],[-1,""],[0,"{\n    va"]],"start1":496,"start2":496,"length1":18,"length2":23},{"diffs":[[0,"ry_parse"],[1,"_each"],[0,") {\n    "]],"start1":950,"start2":950,"length1":16,"length2":21},{"diffs":[[0,"    "],[-1,"bigAST=jsp.parse(fullsource);"],[1,"if (!try_parse_each) \n        try {\n            bigAST=jsp.parse(fullsource);\n        } catch (e) {\n            parse_concat(true); //try parse each\n            return;\n        } "],[0,"\n}\n\n"]],"start1":1328,"start2":1328,"length1":37,"length2":187}]],"length":2423,"saved":false}
{"ts":1368022125542,"patch":[[{"diffs":[[0,"        "],[1,"var ast="],[0,"jsp.pars"]],"start1":1064,"start2":1064,"length1":16,"length2":24}]],"length":2431,"saved":false}
{"ts":1368022164426,"patch":[[{"diffs":[[0,"iles=['h"],[1,"elpers','h"],[0,"ttp','da"]],"start1":386,"start2":386,"length1":16,"length2":26},{"diffs":[[0,"'http','data"],[-1,"','helpers"],[0,"','freebase'"]],"start1":402,"start2":402,"length1":34,"length2":24}]],"length":2431,"saved":false}
{"ts":1368022208310,"patch":[[{"diffs":[[0,"files=['"],[1,"freebase','"],[0,"helpers'"]],"start1":385,"start2":385,"length1":16,"length2":27},{"diffs":[[0,"','data'"],[-1,",'freebase'"],[0,"];\n\nvar "]],"start1":418,"start2":418,"length1":27,"length2":16}]],"length":2431,"saved":false}
{"ts":1368022357630,"patch":[[{"diffs":[[0,"leSync(fname"],[1,",'utf8'"],[0,");\n        i"]],"start1":922,"start2":922,"length1":24,"length2":31}]],"length":2438,"saved":false}
{"ts":1368023073286,"patch":[[{"diffs":[[0,"pro."],[1,"ast_"],[0,"mangle"],[-1,"_names"],[0,"();/"]],"start1":1668,"start2":1668,"length1":20,"length2":18}]],"length":2436,"saved":false}
{"ts":1368023112574,"patch":[[{"diffs":[[0,"_mangle("],[1,"bigAST"],[0,");// get"]],"start1":1675,"start2":1675,"length1":16,"length2":22}]],"length":2442,"saved":false}
{"ts":1368023132140,"patch":[[{"diffs":[[0,"src');\n\n"],[-1,"//"],[0,"var file"]],"start1":314,"start2":314,"length1":18,"length2":16},{"diffs":[[0,"e'];"],[-1,"\nvar files=['freebase','helpers','http','data'];"],[0,"\n\nva"]],"start1":374,"start2":374,"length1":56,"length2":8}]],"length":2392,"saved":false}
{"ts":1368023155835,"patch":[[{"diffs":[[0,"le.log('"],[1,"NOTE: "],[0,"uglify-j"]],"start1":84,"start2":84,"length1":16,"length2":22},{"diffs":[[0," REQUIRE"],[-1,"d"],[1,"D"],[0,"...');\nc"]],"start1":117,"start2":117,"length1":17,"length2":17}]],"length":2398,"saved":false}
{"ts":1368023233911,"patch":[[{"diffs":[[0,"'OK!"],[-1,", "],[1,"');\n            console.log('minified:"],[0,"',"],[-1," "],[0,"dest"]],"start1":2234,"start2":2234,"length1":13,"length2":48},{"diffs":[[0,"name"],[-1,",' created.'"],[0,");\n "]],"start1":2284,"start2":2284,"length1":20,"length2":8}]],"length":2421,"saved":false}
{"ts":1368023284661,"patch":[[{"diffs":[[0,"'OK!"],[-1,"');\n            console.log('"],[1,", "],[0,"minified"],[1," js"],[0,":',d"]],"start1":2234,"start2":2234,"length1":45,"length2":21}]],"length":2397,"saved":false}
