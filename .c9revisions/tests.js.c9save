{"ts":1368005667699,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var freebase=require('./src/freebase.js');\nvar async=require('./client_side/async.js');\n//var slow=require('slow');\nvar fns=require('./scr/helpers')\nvar test={}\n//failing\n\n// freebase.inside('toronto',{}, function(r){\n// \tconsole.log(r.length>3)\n// })\n // freebase.transitive(\"barrie\", \"part_of\", {}, function(r){\n // \tconsole.log(r.length>3)\n // })\n\n\ntest.lookup=[\n  [\"http://toronto.ca\", {}, function(r){console.log(r.id==\"/en/toronto\")}],\n  [[\"/m/09jm8\", \"http://myspace.com/u2\"], {}, function(r){console.log(r[1].name==\"U2\")\t}],\n  [\"australia\",{type:\"/film/film\"}, function(r){console.log(r.mid==\"/m/026qnh6\")}],\n  [\"thom yorke\", {}, function(r){console.log(r.mid==\"/m/01p0w_\")}],\n  [\"tom green\", {}, function(r){console.log(r.mid==\"/m/017yxq\")}],\n  [[\"toronto\",\"suddenly susan\"],{},function(r){console.log(r.length==2)}]\n]\n\ntest.mqlread=[\n  [{ \"type\": \"/music/album\", \"id\": \"/en/keep_it_turned_on\", \"artist\" : null},{}, function(r){console.log(r.result.artist=='Rick Astley')}]\n]\ntest.get_id=[\n  [\"/en/tony_hawk\",{},function(r){console.log(r.id==\"/en/tony_hawk\")}]\n]\ntest.topic=[\n ['radiohead',{},function(r){console.log(r.id=='/m/09jm8' && r.property['/music/artist/origin']!=null) } ]\n]\ntest.search=[\n  [\"franklin\",{},function(r){console.log(r.length>2)}]\n]\n test.paginate=[\n   [[{\"type\":\"/astronomy/moon\",\"name\":null}], {max:20}, function(r){console.log(r.length>20)} ],\n ]\ntest.grammar=[\n  [\"toronto maple leafs\",{},function(r){\n       console.log(_.isEqual(r, { plural: true,\n                 gender: null,\n                 article: 'a',\n                 pronoun: 'they',\n                 copula: 'are' }))\n      }],\n  [\"ron weasley\",{},function(r){\n     console.log(_.isEqual(r, { plural: false,\n                     gender: 'male',\n                     article: 'a',\n                     pronoun: 'he',\n                     copula: 'is' }))\n    }]\n]\ntest.same_as_links=[\n\t[\"http://www.geonames.org/6167865/\", {}, function(r){console.log(r.links.length>3)}],\n\t[\"toronto\", {}, function(r){console.log(r.links.length>3)}],\n\t[\"/m/0h7h6\", {}, function(r){console.log(r.links.length>3)}]\n]\ntest.translate=[\n\t[\"toronto\",{lang:\"zh\"},function(r){console.log(r.match(/多伦多/i)!=null)}],\n\t[\"radiohead\",{lang:\"/lang/ko\"},function(r){console.log(r.match(/라디오헤드/i)!=null)}]\n]\ntest.image=[\n  [\"australia\",{type:\"/location/location\"}, function(r){console.log(r);console.log(r.match(/maxheight/)!=null)}]\n]\ntest.description=[\n [\"mike myers\", {}, function(r){console.log(r.match(/myers/i)!=null)}],\n [\"http://myspace.com/u2\", {}, function(r){console.log(r.match(/u2/i)!=null)}]\n]\ntest.notable=[\n  [\"canada\",{},function(r){console.log(r.id=='/location/country')}]\n]\ntest.sentence=[\n  [\"thom yorke\", {}, function(r){console.log(r.match(/radiohead/i)!=null)}],\n  [\"meatloaf\", {type:\"/food/food\"}, function(r){console.log(r!=null)}],\n  [[{name:\"toronto\"},{id:\"/en/radiohead\",name:\"radiohead\"}],{},function(r){console.log(r.length==2)}]\n]\ntest.list=[\n  [\"earthquakes\", {}, function(r){console.log(r.length>20)}]\n]\ntest.place_data=[\n  [{lat:43.64806,lng:-79.40417}, {}, function(r){\n   console.log(r.city.name==\"Toronto\")\n  }],\n   [{lat:52.05375719395869,lng:5.9511566162109375}, {}, function(r){\n   console.log(r.country.name==\"Netherlands\")\n  }],\n  [{lat:47.9991410647952,lng:14.172706604003906}, {}, function(r){\n   console.log(r.country.name==\"Austria\")\n  }]\n]\ntest.incoming=[\n  [\"germany\",{},function(r){console.log(r.length>20)}]\n]\ntest.outgoing=[\n  [\"ubuntu\",{},function(r){console.log(r.length>15)} ]\n]\ntest.graph=function(){\n\t[\"paul ryan\", {}, function(r){console.log(r[0].object.name==\"Paul Ryan\"|| r[0].subject.name==\"Paul Ryan\")}]\n}\ntest.related=[\n  [\"radiohead\",{},function(r){console.log(r.length>4 && r[2].id!=null)}]\n]\ntest.gallery=[\n  [\"hurricanes\",{},function(r){console.log(r.length>20)}]\n]\ntest.wordnet=[\n   [[\"bat\",\"wood\"],{}, function(r){console.log(r.length==2)}],\n   [\"wood\",{}, function(r){console.log(r.length==4) }]\n]\ntest.geolocation=[\n [\"toronto\", {}, function(r){  console.log(r.latitude!=null)  }]\n]\ntest.nearby=[\n  [\"cn tower\", {type:\"/food/restaurant\"}, function(r){console.log(r.length>4)}]\n]\ntest.inside=[\n  [\"toronto\", {type:\"/locaton/citytown\"}, function(r){console.log(r.length>4)}]\n]\ntest.wikipedia_page=[\n  [\"tony hawk\", {}, function(r){console.log(r==\"Tony_Hawk\")}]\n]\ntest.wikipedia_categories=[\n  [\"meatloaf\",{type:\"/food/food\"},function(r){console.log(r.length>4 && r[3].match(/^Category/)!=null)}]\n]\ntest.wikipedia_links=[\n  [\"Toronto\", {}, function(r){console.log(r.length>=5)}]\n]\ntest.wikipedia_external_links=[\n  [\"/en/toronto\", {}, function(r){console.log(r.length>=3)}]\n]\n// test.schema_introspection=[\n//  [\"person\",{},function(r){console.log(r.id==\"/people/person\" && r.incoming_properties.length>5)}]\n//  [\"/people/person\",{},function(r){console.log(r.id==\"/people/person\" && r.incoming_properties.length>5)}]\n// ]\ntest.property_introspection=[\n]\ntest.property_lookup=[\n]\ntest.transitive=[\n]\ntest.is_a=[\n]\ntest.question=[\n]\ntest.dig=[\n]\ntest.mql_encode=[\n]\ntest.add_widget=[\n]\n\n\n//testit('sentence')\n\n\nfunction done(r){\n  console.log('===========done========')\n}\n\n\n  function testone(v){\n    var all=[]\n    console.log('========'+v+'=========')\n    test[v].map(function(t){\n      freebase[v](t[0],t[1],function(r){\n        t[2](r)\n      })\n    })\n  }\n\n//apply same thing to all functions\nfunction broadly(x, obj){\n  slow.walk(Object.keys(test), doit, done)\n  function doit(t){\n    console.log('------'+t+'------')\n    obj[t](x, function(r){\n      console.log(r)\n    })\n  }\n}\n\nfunction coverage(fn, tests){\n  fn=Object.keys(fn)\n  tests=Object.keys(test)\n  return {missing:_.difference(fn,tests),\n    has:_.union(fn,tests).length,\n    doesnt:_.difference(fn,tests).length,\n    dangling_tests:_.difference(tests,fn)\n  }\n}\nconsole.log(coverage(freebase, test))\nbroadly(null,freebase)\n\n//slow.walk(Object.keys(test), testone, done)\n"]],"start1":0,"start2":0,"length1":0,"length2":5865}]],"length":5865}
{"contributors":[],"silentsave":false,"ts":1368005636793,"patch":[[{"diffs":[[0,"re('"],[-1,"./src/"],[0,"freebase"],[-1,".js"],[0,"');\n"]],"start1":18,"start2":18,"length1":25,"length2":16}]],"length":5856,"saved":false}
{"ts":1368005648469,"patch":[[{"diffs":[[0,"equire('"],[-1,"freebase"],[1,"main"],[0,"');\nvar "]],"start1":14,"start2":14,"length1":24,"length2":20}]],"length":5852,"saved":false}
{"ts":1368005661987,"patch":[[{"diffs":[[0,"re('main"],[1,".js"],[0,"');\nvar "]],"start1":18,"start2":18,"length1":16,"length2":19}]],"length":5855,"saved":false}
{"ts":1368005683051,"patch":[[{"diffs":[[0,"equire('"],[1,"./"],[0,"main.js'"]],"start1":14,"start2":14,"length1":16,"length2":18}]],"length":5857,"saved":false}
{"contributors":[],"silentsave":false,"ts":1368023604200,"patch":[[{"diffs":[[-1,"var freebase=require('././src/freebase.js');\n"],[0,"var "]],"start1":0,"start2":0,"length1":49,"length2":4},{"diffs":[[0,"');\n"],[-1,"//"],[0,"var "],[-1,"slow"],[1,"fns"],[0,"=req"]],"start1":41,"start2":41,"length1":18,"length2":15},{"diffs":[[0,"re('"],[-1,"slow"],[1,"./scr/helpers"],[0,"')"],[-1,";"],[0,"\nvar f"],[-1,"ns"],[1,"reebase"],[0,"=req"]],"start1":58,"start2":58,"length1":23,"length2":36},{"diffs":[[0,"require('./s"],[-1,"cr/helper"],[1,"rc/freebase.j"],[0,"s')"],[1,";"],[0,"\nvar test={}"]],"start1":91,"start2":91,"length1":36,"length2":41},{"diffs":[[0,"\n]\n\n"],[-1,"\n"],[0,"//test"],[-1,"it('sentence')\n\n"],[1," sentence\nfreebase.sentence(\"algo\",{}\n    , function(resp) {\n        console.log(resp);\n    });\n                "],[0,"\nfun"]],"start1":4984,"start2":4984,"length1":31,"length2":126},{"diffs":[[0,"n)\n  }\n}"],[1,"\n\n//---- MAIN ---"],[0,"\nconsole"]],"start1":5815,"start2":5815,"length1":16,"length2":33}]],"length":5949,"saved":false}
{"ts":1368023880018,"patch":[[{"diffs":[[1,"console.log(__dirname);\n    \n"],[0,"var async=re"]],"start1":0,"start2":0,"length1":12,"length2":41},{"diffs":[[0,"ebase.js');\n"],[1,"\n\n"],[0,"var test={}\n"]],"start1":138,"start2":138,"length1":24,"length2":26},{"diffs":[[0," test={}"],[1,";"],[0,"\n//faili"]],"start1":155,"start2":155,"length1":16,"length2":17},{"diffs":[[0," // })\n\n"],[1,"function isEqual(a,b) {return JSON.stringify(a)==JSON.stringify(b)}\n"],[0,"\ntest.lo"]],"start1":347,"start2":347,"length1":16,"length2":84},{"diffs":[[0,"    console.log("],[-1,"_."],[0,"isEqual(r, { plu"]],"start1":1513,"start2":1513,"length1":34,"length2":32},{"diffs":[[0,"ole.log("],[-1,"_."],[0,"isEqual("]],"start1":1739,"start2":1739,"length1":18,"length2":16}]],"length":6045,"saved":false}
{"ts":1368023919476,"patch":[[{"diffs":[[0,"/helpers"],[1,".js"],[0,"')\nvar f"]],"start1":96,"start2":96,"length1":16,"length2":19}]],"length":6048,"saved":false}
{"ts":1368023973194,"patch":[[{"diffs":[[0,"ire('./s"],[-1,"c"],[0,"r"],[1,"c"],[0,"/helpers"]],"start1":86,"start2":86,"length1":18,"length2":18}]],"length":6048,"saved":false}
{"ts":1368024200295,"patch":[[{"diffs":[[0,"quire('."],[1,"."],[0,"/client_"]],"start1":41,"start2":41,"length1":16,"length2":17}]],"length":6049,"saved":false}
{"ts":1368024211098,"patch":[[{"diffs":[[0,"equire('"],[-1,"./src/"],[0,"helpers."]],"start1":84,"start2":84,"length1":22,"length2":16},{"diffs":[[0,"re('"],[-1,"./src/"],[0,"free"]],"start1":123,"start2":123,"length1":14,"length2":8}]],"length":6037,"saved":false}
{"ts":1368024223918,"patch":[[{"diffs":[[0,"quire('."],[-1,"."],[0,"/client_"]],"start1":41,"start2":41,"length1":17,"length2":16},{"diffs":[[0,"equire('"],[1,"./src/"],[0,"helpers."]],"start1":83,"start2":83,"length1":16,"length2":22},{"diffs":[[0,"equire('"],[1,"./src/"],[0,"freebase"]],"start1":124,"start2":124,"length1":16,"length2":22}]],"length":6048,"saved":false}
{"ts":1368024669254,"patch":[[{"diffs":[[0,"js');\n\n\n"],[1,"var a = freebase.lookup_id;\nvar b = freebase.notale;\nvar c = freebase.sentence;\n\n"],[0,"var test"]],"start1":147,"start2":147,"length1":16,"length2":97},{"diffs":[[0," testone, done)\n"],[1,"\n"]],"start1":6113,"start2":6113,"length1":16,"length2":17}]],"length":6130,"saved":false}
{"ts":1368025276778,"patch":[[{"diffs":[[0,");\n    \n"],[1,"//"],[0,"var asyn"]],"start1":21,"start2":21,"length1":16,"length2":18},{"diffs":[[0,"c.js');\n"],[1,"//"],[0,"var fns="]],"start1":68,"start2":68,"length1":16,"length2":18},{"diffs":[[0,"rs.js')\n"],[1,"//"],[0,"var free"]],"start1":106,"start2":106,"length1":16,"length2":18},{"diffs":[[0,"e.js');\n"],[1,"var t2=require('test2.js');\n\nvar a = t2.inner;\na('si');\n"],[0,"\n\nvar a "]],"start1":151,"start2":151,"length1":16,"length2":72}]],"length":6192,"saved":false}
{"ts":1368025295009,"patch":[[{"diffs":[[0,"e.js');\n"],[1,"\n"],[0,"var t2=r"]],"start1":151,"start2":151,"length1":16,"length2":17},{"diffs":[[0,"equire('"],[1,"./"],[0,"test2.js"]],"start1":168,"start2":168,"length1":16,"length2":18},{"diffs":[[0,"test2.js');\n"],[-1,"\n"],[0,"var a = t2.i"]],"start1":178,"start2":178,"length1":25,"length2":24}]],"length":6194,"saved":false}
{"ts":1368025509172,"patch":[[{"diffs":[[0," a = t2."],[1,"test2."],[0,"inner;\na"]],"start1":193,"start2":193,"length1":16,"length2":22}]],"length":6200,"saved":false}
{"ts":1368025976121,"patch":[[{"diffs":[[0,"');\n"],[1,"var b = t2.test2.inner2;\n"],[0,"\n\nvar a"],[1,"1"],[0," = f"]],"start1":219,"start2":219,"length1":15,"length2":41},{"diffs":[[0,"d;\nvar b"],[1,"1"],[0," = freeb"]],"start1":276,"start2":276,"length1":16,"length2":17},{"diffs":[[0,"e;\nvar c"],[1,"1"],[0," = freeb"]],"start1":302,"start2":302,"length1":16,"length2":17}]],"length":6228,"saved":false}
{"ts":1368027055729,"patch":[[{"diffs":[[0,"\nvar a = t2."],[-1,"test2."],[0,"inner;\na('si"]],"start1":189,"start2":189,"length1":30,"length2":24},{"diffs":[[0," b = t2."],[-1,"test2."],[0,"inner2;\n"]],"start1":220,"start2":220,"length1":22,"length2":16}]],"length":6216,"saved":false}
{"contributors":[],"silentsave":false,"ts":1368036108568,"patch":[[{"diffs":[[-1,"console.log(__dirname);\n    \n//"],[1,"var _=require('underscore');\n"],[0,"var "]],"start1":0,"start2":0,"length1":35,"length2":33},{"diffs":[[0,"c.js');\n"],[-1,"//"],[0,"var fns="]],"start1":66,"start2":66,"length1":18,"length2":16},{"diffs":[[0,"rs.js')\n"],[-1,"//"],[0,"var free"]],"start1":102,"start2":102,"length1":18,"length2":16},{"diffs":[[0,";\n\nvar t"],[-1,"2"],[1,"icCaller"],[0,"=require"]],"start1":151,"start2":151,"length1":17,"length2":24},{"diffs":[[0,"test"],[-1,"2.js');\nvar a = t2.inner;\na('si');\nvar b = t2.inner2;\n\n\nvar a1 = freebase.lookup_id;\nvar b1 = freebase.notale;\nvar c1 = freebase.sentence;\n\nvar test={};\n//failing\n\n// freebase.inside('toronto',{}, function(r){\n// \tconsole.log(r.length>3)\n// })\n // freebase.transitive(\"barrie\", \"part_of\", {}, function(r){\n // \tconsole.log(r.length>3)\n // })\n\nfunction isEqual(a,b) {return JSON.stringify(a)==JSON.stringify(b)}"],[1,"-call');\n\n\nvar test={};\n\n// test.propname = function name\n//      [ inner array = [param1, param2, callback_fn] ]\n//"],[0,"\n\nte"]],"start1":179,"start2":179,"length1":418,"length2":124},{"diffs":[[0,"igin']!="],[-1,""],[0,""],[1,"="],[0,"null) } "]],"start1":1123,"start2":1123,"length1":16,"length2":17},{"diffs":[[0,"    console.log("],[-1,""],[0,""],[1,"_."],[0,"isEqual(r, { plu"]],"start1":1391,"start2":1391,"length1":32,"length2":34},{"diffs":[[0,"ole.log("],[-1,""],[0,""],[1,"_."],[0,"isEqual("]],"start1":1619,"start2":1619,"length1":16,"length2":18},{"diffs":[[0,"ch(/多伦多/i)!="],[1,"="],[0,"null)}],\n\t[\""]],"start1":2116,"start2":2116,"length1":24,"length2":25},{"diffs":[[0,"(/라디오헤드/i)!="],[1,"="],[0,"null)}]\n]\nte"]],"start1":2201,"start2":2201,"length1":24,"length2":25},{"diffs":[[0,"axheight/)!="],[1,"="],[0,"null)}]\n]\nte"]],"start1":2330,"start2":2330,"length1":24,"length2":25},{"diffs":[[0,"(/myers/i)!="],[1,"="],[0,"null)}],\n [\""]],"start1":2423,"start2":2423,"length1":24,"length2":25},{"diffs":[[0,"tch(/u2/i)!="],[1,"="],[0,"null)}]\n]\nte"]],"start1":2504,"start2":2504,"length1":24,"length2":25},{"diffs":[[0,"ead/i)!="],[1,"="],[0,"null)}],"]],"start1":2688,"start2":2688,"length1":16,"length2":17},{"diffs":[[0,".log(r!="],[1,"="],[0,"null)}],"]],"start1":2761,"start2":2761,"length1":16,"length2":17},{"diffs":[[0,"[2].id!="],[-1,""],[0,""],[1,"="],[0,"null)}]\n"]],"start1":3660,"start2":3660,"length1":16,"length2":17},{"diffs":[[0,"titude!="],[-1,""],[0,""],[1,"="],[0,"null)  }"]],"start1":3955,"start2":3955,"length1":16,"length2":17},{"diffs":[[0,"gory/)!="],[-1,""],[0,""],[1,"="],[0,"null)}]\n"]],"start1":4371,"start2":4371,"length1":16,"length2":17},{"diffs":[[0,"]\n\n/"],[-1,"/test sentence\nfreebase.sentence(\"algo\",{}\n    , function(resp) {\n        console.log(resp);\n    });\n                "],[1,"*"],[0,"\nfun"]],"start1":4973,"start2":4973,"length1":125,"length2":9},{"diffs":[[0,"=')\n}\n\n\n"],[-1,"  "],[0,"function"]],"start1":5034,"start2":5034,"length1":18,"length2":16},{"diffs":[[0,"r all=[]"],[1,";"],[0,"\n    con"]],"start1":5069,"start2":5069,"length1":16,"length2":17},{"diffs":[[0,"unction(t){\n"],[1,"              "],[0,"      freeba"]],"start1":5138,"start2":5138,"length1":24,"length2":38},{"diffs":[[0,"        "],[1,"    "],[0,"t[2](r)\n"]],"start1":5205,"start2":5205,"length1":16,"length2":20},{"diffs":[[0,")\n  "],[-1,"    })\n    })\n  }\n\n//apply same thing to all functions\nfunction broadly(x, obj){\n  "],[1,"})\n})\n}\n*/\n\n/*\n"],[0,"slow"]],"start1":5223,"start2":5223,"length1":91,"length2":23},{"diffs":[[0,"\n    })\n"],[-1,"  }\n}"],[1,"}\n*/\n"],[0,"\n\nfuncti"]],"start1":5387,"start2":5387,"length1":21,"length2":21},{"diffs":[[0,"st))"],[-1,"\nbroadly(null,"],[1,";\n\nticCaller.callAll_Tests(test,freebase);\n\nticCaller.callAllFunctions("],[0,"freebase"],[-1,")"],[1,",null);"],[0,"\n\n//"]],"start1":5695,"start2":5695,"length1":31,"length2":94}]],"length":5834,"saved":false}
